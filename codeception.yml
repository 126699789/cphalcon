actor_suffix: Tester

paths:
    # where the modules stored
    tests: tests
    log: tests/_output
    # directory for fixture data
    data: tests/_data
    # directory for custom modules (helpers)
    support: tests/_support
    envs: tests/_envs

settings:
    colors: true
    # Tests (especially functional) can take a lot of memory
    # We set a high limit for them by default.
    memory_limit: 1024M
    lint: true

modules:
  - Db:
      dsn: 'mysql:host=%DATA_MYSQL_HOST%;dbname=%DATA_MYSQL_NAME%;port=%DATA_MYSQL_PORT%'
      user: '%DATA_MYSQL_USER%'
      password: '%DATA_MYSQL_PASS%'
      databases:
        mysql:
          dsn: 'mysql:host=%DATA_MYSQL_HOST%;dbname=%DATA_MYSQL_NAME%;port=%DATA_MYSQL_PORT%'
          user: '%DATA_MYSQL_USER%'
          password: '%DATA_MYSQL_PASS%'
          populate: true
          cleanup: false
          dump: 'tests/_data/assets/db/schemas/mysql_schema.sql'
        sqlite:
          dsn: 'sqlite:%DATA_SQLITE_NAME%'
          user: ''
          password: ''
          populate: true
          cleanup: false
          dump:
            - 'tests/_data/assets/db/schemas/sqlite_schema.sql'
        postgres:
          dsn: 'pgsql:host=%DATA_POSTGRES_HOST%;dbname=%DATA_POSTGRES_NAME%;port=%DATA_POSTGRES_PORT%'
          user: '%DATA_POSTGRES_USER%'
          password: '%DATA_POSTGRES_PASS%'
          populate: true
          cleanup: false
          dump: 'tests/_data/assets/db/schemas/postgresql_schema.sql'
          initial_queries:
            - 'DROP SCHEMA public CASCADE;'
            - 'CREATE SCHEMA public;'
            - 'GRANT ALL ON SCHEMA public TO phalcon;'
            - 'GRANT ALL ON SCHEMA public TO public;'
# name of bootstrap that will be used
# each bootstrap file should be
# inside a suite directory.
bootstrap: _bootstrap.php

coverage:
    # Disable Code Coverage by default to speed up Travis tests
    enabled: false

extensions:
    enabled:
        - Codeception\Extension\RunFailed

params:
    # get params from environment vars
    - .env
